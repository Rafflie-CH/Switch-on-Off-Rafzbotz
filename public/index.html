<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Bot Control Panel</title>

<style>
:root {
  --blue1: rgb(0,140,255);
  --blue2: rgb(0,80,200);
  --blue3: rgb(0,40,120);
}

* {
  box-sizing: border-box;
  font-family: "Segoe UI", system-ui;
}

body {
  margin: 0;
  min-height: 100vh;
  background: radial-gradient(circle at top, var(--blue1), var(--blue3));
  display: flex;
  align-items: center;
  justify-content: center;
  color: #eaf4ff;
}

.panel {
  width: 360px;
  padding: 24px;
  border-radius: 18px;
  background: linear-gradient(
    145deg,
    rgba(255,255,255,0.12),
    rgba(255,255,255,0.03)
  );
  backdrop-filter: blur(14px);
  box-shadow: 0 0 40px rgba(0,120,255,.45);
}

h1 {
  text-align: center;
  margin: 0 0 6px;
  font-size: 22px;
}

.status {
  text-align: center;
  margin-bottom: 18px;
  font-weight: 600;
}

.status span {
  padding: 4px 12px;
  border-radius: 999px;
}

.ON { background: rgba(0,255,180,.25); }
.OFF { background: rgba(255,80,80,.25); }
.RESTARTING { background: rgba(255,200,0,.25); }

.btns {
  display: grid;
  gap: 12px;
}

button {
  padding: 14px;
  border: none;
  border-radius: 12px;
  font-size: 15px;
  font-weight: 600;
  color: white;
  background: linear-gradient(135deg, var(--blue1), var(--blue2));
  cursor: pointer;
  transition: .2s;
}

button:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 0 18px rgba(0,140,255,.6);
}

button:disabled {
  opacity: .4;
  cursor: not-allowed;
}

.wa-btn {
  margin-top: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px;
  border-radius: 999px;
  background: linear-gradient(135deg, #25D366, #1ebe5d);
  color: white;
  font-weight: 600;
  text-decoration: none;
  box-shadow: 0 0 20px rgba(37,211,102,.45);
  transition: .2s;
}

.wa-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 0 26px rgba(37,211,102,.65);
}

.made {
  margin-top: 14px;
  text-align: center;
  font-size: 13px;
  opacity: .85;
}
</style>
</head>

<body>
<div class="panel">
  <h1>Bot Control</h1>

  <div class="status">
    Status: <span id="st" class="OFF">OFF</span>
  </div>

  <div class="btns">
    <button id="start">Nyalakan Bot</button>
    <button id="stop">Matikan Bot</button>
    <button id="restart">Restart Bot</button>
  </div>

  <a class="wa-btn" href="LINK_SALURAN_LU" target="_blank">
    üì¢ Saluran Resmi Info Bot Ini
  </a>

  <div class="made">
    Made with ‚ù§Ô∏è by Rafz (Rafflie Aditya)
  </div>
</div>

<script>
const st = document.getElementById("st")
const btnStart = document.getElementById("start")
const btnStop = document.getElementById("stop")
const btnRestart = document.getElementById("restart")

async function refresh() {
  const r = await fetch("/api/status")
  const d = await r.json()
  const s = d.status || "OFF"

  st.textContent = s
  st.className = s

  btnStart.disabled   = s !== "OFF"
  btnStop.disabled    = s !== "ON"
  btnRestart.disabled = s === "OFF"
}

btnStart.onclick = () => fetch("/api/start").then(refresh)
btnStop.onclick = () => fetch("/api/stop").then(refresh)
btnRestart.onclick = () => fetch("/api/restart").then(refresh)

refresh()
setInterval(refresh, 5000)
</script>
</body>
</html>
